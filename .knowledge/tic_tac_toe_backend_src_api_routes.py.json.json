{"is_source_file": true, "format": "Python", "description": "This is a Python source file defining API routes for a Tic Tac Toe web application backend using FastAPI. It includes route handlers for creating players, starting new games, fetching game states, listing recent games, and submitting moves, with auxiliary functions for converting models to output schemas.", "external_files": ["api/db.py", "api/models.py", "api/schemas.py", "api/services.py"], "external_methods": ["get_db", "check_winner", "is_draw", "validate_move"], "published": ["create_player", "create_game", "get_game", "list_games", "submit_move"], "classes": [], "methods": [{"name": "Optional[PlayerOut] _player_to_out(p: Optional[Player])", "description": "Converts a Player object to PlayerOut schema for output.", "scope": "", "scopeKind": ""}, {"name": "MoveOut _move_to_out(m: Move)", "description": "Converts a Move object to MoveOut schema for output.", "scope": "", "scopeKind": ""}, {"name": "GameOut _game_to_out(g: Game)", "description": "Converts a Game object to GameOut schema for output, including moves and player info.", "scope": "", "scopeKind": ""}, {"name": "GameOut create_game(payload: GameCreate, db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "PlayerOut create_player(payload: PlayerCreate, db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "GameOut get_game(game_id: int, db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "GamesListOut list_games(db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "GameOut submit_move(game_id: int, payload: MoveCreate, db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["select", "db.scalar", "db.get", "db.add", "db.commit", "db.refresh", "select(Player).where(Player.name == ...)", "db.scalars", "select(Game).order_by(Game.created_at.desc())", "check_winner", "is_draw", "validate_move"], "search-terms": ["tic_tac_toe_routes", "game_state", "move_submission", "player_creation", "game_listing"], "state": 2, "file_id": 9, "knowledge_revision": 20, "git_revision": "eb32041ecc3ed67dc6b7a48accc80b86947caa46", "revision_history": [{"19": ""}, {"20": "eb32041ecc3ed67dc6b7a48accc80b86947caa46"}], "ctags": [{"_type": "tag", "name": "_game_to_out", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-application-214883-215660/tic_tac_toe_backend/src/api/routes.py", "pattern": "/^def _game_to_out(g: Game) -> GameOut:$/", "language": "Python", "typeref": "typename:GameOut", "kind": "function", "signature": "(g: Game)"}, {"_type": "tag", "name": "_move_to_out", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-application-214883-215660/tic_tac_toe_backend/src/api/routes.py", "pattern": "/^def _move_to_out(m: Move) -> MoveOut:$/", "language": "Python", "typeref": "typename:MoveOut", "kind": "function", "signature": "(m: Move)"}, {"_type": "tag", "name": "_player_to_out", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-application-214883-215660/tic_tac_toe_backend/src/api/routes.py", "pattern": "/^def _player_to_out(p: Optional[Player]) -> Optional[PlayerOut]:$/", "language": "Python", "typeref": "typename:Optional[PlayerOut]", "kind": "function", "signature": "(p: Optional[Player])"}, {"_type": "tag", "name": "create_game", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-application-214883-215660/tic_tac_toe_backend/src/api/routes.py", "pattern": "/^def create_game(payload: GameCreate, db: Session = Depends(get_db)) -> GameOut:$/", "language": "Python", "typeref": "typename:GameOut", "kind": "function", "signature": "(payload: GameCreate, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "create_player", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-application-214883-215660/tic_tac_toe_backend/src/api/routes.py", "pattern": "/^def create_player(payload: PlayerCreate, db: Session = Depends(get_db)) -> PlayerOut:$/", "language": "Python", "typeref": "typename:PlayerOut", "kind": "function", "signature": "(payload: PlayerCreate, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "get_game", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-application-214883-215660/tic_tac_toe_backend/src/api/routes.py", "pattern": "/^def get_game(game_id: int, db: Session = Depends(get_db)) -> GameOut:$/", "language": "Python", "typeref": "typename:GameOut", "kind": "function", "signature": "(game_id: int, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "list_games", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-application-214883-215660/tic_tac_toe_backend/src/api/routes.py", "pattern": "/^def list_games(db: Session = Depends(get_db)) -> GamesListOut:$/", "language": "Python", "typeref": "typename:GamesListOut", "kind": "function", "signature": "(db: Session = Depends(get_db))"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-application-214883-215660/tic_tac_toe_backend/src/api/routes.py", "pattern": "/^router = APIRouter(tags=[\"tic-tac-toe\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "submit_move", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-application-214883-215660/tic_tac_toe_backend/src/api/routes.py", "pattern": "/^def submit_move(game_id: int, payload: MoveCreate, db: Session = Depends(get_db)) -> GameOut:$/", "language": "Python", "typeref": "typename:GameOut", "kind": "function", "signature": "(game_id: int, payload: MoveCreate, db: Session = Depends(get_db))"}], "hash": "5061f43ae6c6a2b831923cca60994fe8", "format-version": 4, "code-base-name": "tic_tac_toe_backend", "filename": "tic_tac_toe_backend/src/api/routes.py", "fields": [{"name": "router = APIRouter(tags=[\"tic-tac-toe\"])", "scope": "", "scopeKind": "", "description": "unavailable"}]}