{"is_source_file": true, "format": "Python", "description": "This file defines API routes for a Tic Tac Toe web application backend, including endpoints for creating players, starting new games, retrieving game states, listing recent games, and submitting moves. It uses FastAPI, SQLAlchemy ORM, and custom service functions for game logic.", "external_files": ["./db", "./models", "./schemas", "./services"], "external_methods": ["get_db", "select", "check_winner", "is_draw", "validate_move"], "published": ["create_player", "create_game", "get_game", "list_games", "submit_move"], "classes": [{"name": "APIRouter", "description": "FastAPI router object used to define API endpoints."}], "methods": [{"name": "_player_to_out", "description": "Converts a Player ORM object to PlayerOut schema, handling None values."}, {"name": "_move_to_out", "description": "Converts a Move ORM object to MoveOut schema."}, {"name": "_game_to_out", "description": "Converts a Game ORM object to GameOut schema, including moves and player info."}, {"name": "create_player", "description": "API endpoint to create a new player with a unique name."}, {"name": "create_game", "description": "API endpoint to start a new Tic Tac Toe game, optionally associating players."}, {"name": "get_game", "description": "API endpoint to retrieve the current state of a specific game by ID."}, {"name": "list_games", "description": "API endpoint to list the most recent 50 games with their states."}, {"name": "submit_move", "description": "API endpoint to submit a move in a specific game, with validation and game state updates."}], "calls": ["select", "db.scalar", "db.get", "db.add", "db.commit", "db.refresh", "check_winner", "is_draw", "validate_move"], "search-terms": ["tic-tac-toe API routes", "game state management", "move submission", "player creation", "game listing", "FastAPI game backend"], "state": 2, "file_id": 9, "knowledge_revision": 26, "git_revision": "eb32041ecc3ed67dc6b7a48accc80b86947caa46", "revision_history": [{"19": ""}, {"20": "eb32041ecc3ed67dc6b7a48accc80b86947caa46"}, {"26": "eb32041ecc3ed67dc6b7a48accc80b86947caa46"}], "ctags": [], "filename": "tic_tac_toe_backend/src/api/routes.py", "format-version": 4, "code-base-name": "https://github.com/kavia-common/tic-tac-toe-web-application-214883-215660.git:kavia-main"}