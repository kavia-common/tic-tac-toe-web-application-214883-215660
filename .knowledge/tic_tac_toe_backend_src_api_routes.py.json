{"is_source_file": true, "format": "Python", "description": "This file defines API routes for a Tic Tac Toe web application backend, using FastAPI framework. It handles creation and retrieval of players and games, as well as submitting moves. The file contains route handlers, helper functions for converting models to output schemas, and references to database operations, models, schemas, and service functions.", "external_files": ["./db", "./models", "./schemas", "./services"], "external_methods": ["get_db", "Base", "engine", "check_winner", "is_draw", "validate_move"], "published": ["create_player", "create_game", "get_game", "list_games", "submit_move"], "classes": [], "methods": [{"name": "Optional[PlayerOut] _player_to_out(p: Optional[Player])", "description": "Converts a Player model instance to PlayerOut schema, handling nulls.", "scope": "", "scopeKind": ""}, {"name": "MoveOut _move_to_out(m: Move)", "description": "Converts a Move model instance to MoveOut schema.", "scope": "", "scopeKind": ""}, {"name": "GameOut _game_to_out(g: Game)", "description": "Converts a Game model instance to GameOut schema, including moves and player info.", "scope": "", "scopeKind": ""}, {"name": "GameOut create_game(payload: GameCreate, db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "PlayerOut create_player(payload: PlayerCreate, db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "GameOut get_game(game_id: int, db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "GamesListOut list_games(db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "GameOut submit_move(game_id: int, payload: MoveCreate, db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["select", "db.scalar", "db.add", "db.commit", "db.refresh", "db.get", "db.scalars", "select(Player).where(Player.name == ...)", "select(Game).order_by(Game.created_at.desc())", "select(Game).where(Game.id == ...)"], "search-terms": ["FastAPI", "tic-tac-toe", "api routes", "create_player", "create_game", "submit_move", "get_game", "list_games"], "state": 2, "file_id": 9, "knowledge_revision": 19, "git_revision": "", "ctags": [{"_type": "tag", "name": "_game_to_out", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-application-214883-215660/tic_tac_toe_backend/src/api/routes.py", "pattern": "/^def _game_to_out(g: Game) -> GameOut:$/", "language": "Python", "typeref": "typename:GameOut", "kind": "function", "signature": "(g: Game)"}, {"_type": "tag", "name": "_move_to_out", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-application-214883-215660/tic_tac_toe_backend/src/api/routes.py", "pattern": "/^def _move_to_out(m: Move) -> MoveOut:$/", "language": "Python", "typeref": "typename:MoveOut", "kind": "function", "signature": "(m: Move)"}, {"_type": "tag", "name": "_player_to_out", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-application-214883-215660/tic_tac_toe_backend/src/api/routes.py", "pattern": "/^def _player_to_out(p: Optional[Player]) -> Optional[PlayerOut]:$/", "language": "Python", "typeref": "typename:Optional[PlayerOut]", "kind": "function", "signature": "(p: Optional[Player])"}, {"_type": "tag", "name": "create_game", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-application-214883-215660/tic_tac_toe_backend/src/api/routes.py", "pattern": "/^def create_game(payload: GameCreate, db: Session = Depends(get_db)) -> GameOut:$/", "language": "Python", "typeref": "typename:GameOut", "kind": "function", "signature": "(payload: GameCreate, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "create_player", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-application-214883-215660/tic_tac_toe_backend/src/api/routes.py", "pattern": "/^def create_player(payload: PlayerCreate, db: Session = Depends(get_db)) -> PlayerOut:$/", "language": "Python", "typeref": "typename:PlayerOut", "kind": "function", "signature": "(payload: PlayerCreate, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "get_game", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-application-214883-215660/tic_tac_toe_backend/src/api/routes.py", "pattern": "/^def get_game(game_id: int, db: Session = Depends(get_db)) -> GameOut:$/", "language": "Python", "typeref": "typename:GameOut", "kind": "function", "signature": "(game_id: int, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "list_games", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-application-214883-215660/tic_tac_toe_backend/src/api/routes.py", "pattern": "/^def list_games(db: Session = Depends(get_db)) -> GamesListOut:$/", "language": "Python", "typeref": "typename:GamesListOut", "kind": "function", "signature": "(db: Session = Depends(get_db))"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-application-214883-215660/tic_tac_toe_backend/src/api/routes.py", "pattern": "/^router = APIRouter(tags=[\"tic-tac-toe\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "submit_move", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-application-214883-215660/tic_tac_toe_backend/src/api/routes.py", "pattern": "/^def submit_move(game_id: int, payload: MoveCreate, db: Session = Depends(get_db)) -> GameOut:$/", "language": "Python", "typeref": "typename:GameOut", "kind": "function", "signature": "(game_id: int, payload: MoveCreate, db: Session = Depends(get_db))"}], "hash": "3760aefd64f19ca5ae82eb95ab07f7f1", "format-version": 4, "code-base-name": "tic_tac_toe_backend", "filename": "tic_tac_toe_backend/src/api/routes.py", "fields": [{"name": "router = APIRouter(tags=[\"tic-tac-toe\"])", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"19": ""}]}